<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Teste.PagamentoPage"
             Title="Pagamento"
             BackgroundColor="#F9F3EF"
             Padding="0">

    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="16,10,16,30" HorizontalOptions="Center">

            <!-- ========== RESUMO DA RESERVA ========== -->
            <Border BackgroundColor="White"
                    StrokeShape="RoundRectangle 12"
                    Padding="16"
                    WidthRequest="350">

                <VerticalStackLayout Spacing="10">

                    <HorizontalStackLayout Spacing="8">
                        <Label Text="📋" TextColor="#C48E6B" FontSize="14"/>
                        <Label Text="Resumo da Reserva" 
                               TextColor="#A42D45" 
                               FontAttributes="Bold" 
                               FontSize="16"/>
                    </HorizontalStackLayout>

                    <HorizontalStackLayout Spacing="8">
                        <Label Text="📅" TextColor="#C48E6B" FontSize="12"/>
                        <Label x:Name="LblDataHorario" Text="..." TextColor="#A42D45" FontSize="12"/>
                    </HorizontalStackLayout>

                    <HorizontalStackLayout Spacing="8">
                        <Label Text="👥" TextColor="#C48E6B" FontSize="12"/>
                        <Label x:Name="LblPessoas" Text="..." TextColor="#A42D45" FontSize="12"/>
                    </HorizontalStackLayout>

                    <BoxView HeightRequest="1" Color="#F1E5E2" Margin="0,6,0,6"/>

                    <Label Text="Atividades selecionadas:" 
                           TextColor="#A42D45" 
                           FontSize="14" 
                           FontAttributes="Bold"/>

                    <Label x:Name="LblAtividades" 
                           Text="..." 
                           TextColor="#A42D45" 
                           FontSize="12" 
                           LineBreakMode="WordWrap"/>

                    <BoxView HeightRequest="1" Color="#F1E5E2" Margin="0,8,0,6"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Label Text="Total a Pagar:" 
                               TextColor="#A42D45" 
                               FontSize="14" 
                               FontAttributes="Bold"/>

                        <Label x:Name="LblTotal"
                               Grid.Column="1" 
                               Text="R$0,00" 
                               TextColor="#A42D45" 
                               FontSize="14" 
                               FontAttributes="Bold"/>
                    </Grid>
                </VerticalStackLayout>
            </Border>

            <!-- ========== FORMA DE PAGAMENTO ========== -->
            <Border BackgroundColor="White"
                    StrokeShape="RoundRectangle 12"
                    Padding="16"
                    WidthRequest="350">

                <VerticalStackLayout Spacing="10">
                    <HorizontalStackLayout Spacing="8">
                        <Label Text="💳" TextColor="#C48E6B" FontSize="14"/>
                        <Label Text="Forma de pagamento" 
                               TextColor="#A42D45" 
                               FontAttributes="Bold" 
                               FontSize="16"/>
                    </HorizontalStackLayout>

                    <Border BackgroundColor="#F9F3EF"
                            StrokeThickness="1"
                            Stroke="#F1E5E2"
                            Padding="12">
                        <HorizontalStackLayout Spacing="8">
                            <Ellipse WidthRequest="10" HeightRequest="10" Fill="#A42D45" VerticalOptions="Center"/>
                            <Label Text="Pix" TextColor="#A42D45" FontSize="13"/>
                        </HorizontalStackLayout>
                    </Border>
                </VerticalStackLayout>
            </Border>

            <!-- ========== PAGAMENTO VIA PIX ========== -->
            <Border BackgroundColor="White"
                    StrokeShape="RoundRectangle 12"
                    Padding="16"
                    WidthRequest="350">
                <VerticalStackLayout Spacing="10">
                    <HorizontalStackLayout Spacing="8">
                        <Label Text="📱" TextColor="#C48E6B" FontSize="14"/>
                        <Label Text="Pagamento via Pix" 
                               TextColor="#A42D45" 
                               FontAttributes="Bold" 
                               FontSize="16"/>
                    </HorizontalStackLayout>

                    <Image Source="qrcode.png"
                           WidthRequest="160"
                           HeightRequest="160"
                           HorizontalOptions="Center"
                           Margin="0,12"/>

                    <HorizontalStackLayout Spacing="6" Margin="0,4,0,0">
                        <Label Text="✉️" TextColor="#C48E6B" FontSize="12"/>
                        <Label Text="Chave Pix (Copie e Cole)" TextColor="#A42D45" FontSize="12"/>
                    </HorizontalStackLayout>

                    <Grid ColumnSpacing="8" Margin="0,4,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Border BackgroundColor="#F9F3EF" Padding="10" StrokeThickness="1" Stroke="#F1E5E2">
                            <Label x:Name="LblPixKey" Text="fazenda.villaggio@pix.com.br" TextColor="#A42D45" FontSize="11"/>
                        </Border>

                        <Button Grid.Column="1"
                                Text="Copiar"
                                FontSize="12"
                                BackgroundColor="#A42D45"
                                TextColor="White"
                                CornerRadius="8"
                                Padding="14,6"
                                HeightRequest="40"
                                Clicked="OnCopyPixKeyClicked"/>
                    </Grid>
                </VerticalStackLayout>
            </Border>

            <!-- ========== ANEXAR COMPROVANTE ========== -->
            <Border BackgroundColor="White"
                    StrokeShape="RoundRectangle 12"
                    Padding="16"
                    WidthRequest="350">
                <VerticalStackLayout Spacing="8">
                    <HorizontalStackLayout Spacing="8">
                        <Label Text="📎" TextColor="#C48E6B" FontSize="14"/>
                        <Label Text="Anexar comprovante" 
                               TextColor="#A42D45" 
                               FontAttributes="Bold" 
                               FontSize="16"/>
                    </HorizontalStackLayout>

                    <Border StrokeDashArray="2,2"
                            Stroke="#E3D7D0"
                            StrokeThickness="2"
                            BackgroundColor="#F9F3EF"
                            Padding="30"
                            Margin="0,8,0,0">
                        <VerticalStackLayout Spacing="4" HorizontalOptions="Center">
                            <Label Text="☁️" TextColor="#C48E6B" FontSize="24" HorizontalOptions="Center"/>
                            <Label Text="Clique ou arraste o comprovante aqui" 
                                   TextColor="#A42D45" 
                                   FontSize="12" 
                                   HorizontalOptions="Center"/>
                            <Button Text="Selecionar arquivo"
                                    FontSize="12"
                                    BackgroundColor="#A42D45"
                                    TextColor="White"
                                    CornerRadius="8"
                                    Padding="10,4"
                                    Clicked="OnUploadProofClicked"/>
                            <Image x:Name="ImgComprovantePreview"
                                   IsVisible="False"
                                   HeightRequest="100"
                                   Aspect="AspectFit"
                                   Margin="0,10,0,0"/>
                        </VerticalStackLayout>
                    </Border>
                </VerticalStackLayout>
            </Border>

            <!-- ========== BOTÃO CONFIRMAR ========== -->
            <Border BackgroundColor="#A42D45"
                    StrokeShape="RoundRectangle 10"
                    Padding="0"
                    WidthRequest="350"
                    HeightRequest="48"
                    HorizontalOptions="Center">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnConfirmPaymentClicked"/>
                </Border.GestureRecognizers>

                <HorizontalStackLayout Spacing="10" VerticalOptions="Center" HorizontalOptions="Center" Padding="16,0">
                    <Label Text="✔" FontSize="16" TextColor="White" VerticalOptions="Center" />
                    <Label Text="Confirmar Pagamento" FontSize="14" FontAttributes="Bold" TextColor="White" VerticalOptions="Center" HorizontalOptions="CenterAndExpand"/>
                </HorizontalStackLayout>
            </Border>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>

