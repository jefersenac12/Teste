<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Teste.PagamentoPage"
             Title="Pagamento"
             BackgroundColor="#F9F3EF"
             Padding="0">

    <ContentPage.Resources>
        <ResourceDictionary>
            <Style TargetType="Label" x:Key="TitleMain">
                <Setter Property="FontFamily" Value="Canvas_Inline_Reg" />
                <Setter Property="FontSize" Value="20" />
                <Setter Property="FontAttributes" Value="Bold" />
                <Setter Property="TextColor" Value="#A42D45" />
            </Style>

            <Style TargetType="Label" x:Key="SectionTitle">
                <Setter Property="FontFamily" Value="Canvas_Inline_Reg" />
                <Setter Property="FontSize" Value="16" />
                <Setter Property="FontAttributes" Value="Bold" />
                <Setter Property="TextColor" Value="#A42D45" />
            </Style>

            <Style TargetType="Label" x:Key="BodyText">
                <Setter Property="FontFamily" Value="SourceSansPro" />
                <Setter Property="TextColor" Value="#A42D45" />
            </Style>

            <Style TargetType="Button" x:Key="BodyButton" BasedOn="{StaticResource BodyText}">
                <Setter Property="FontAttributes" Value="Bold" />
            </Style>

            <Style TargetType="Label" x:Key="MainButtonText">
                <Setter Property="FontFamily" Value="Canvas_Inline_Reg" />
                <Setter Property="FontSize" Value="14" />
                <Setter Property="FontAttributes" Value="Bold" />
                <Setter Property="TextColor" Value="White" />
            </Style>

        </ResourceDictionary>
    </ContentPage.Resources>

    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="16,10,16,30" HorizontalOptions="Center">

            <Border BackgroundColor="White"
                    StrokeShape="RoundRectangle 12"
                    Padding="16"
                    WidthRequest="350">

                <VerticalStackLayout Spacing="10">

                    <HorizontalStackLayout Spacing="8">
                        <Label Text="ðŸ“‹" TextColor="#C48E6B" FontSize="14"/>
                        <Label Text="Resumo da Reserva" 
                               Style="{StaticResource SectionTitle}"/>
                    </HorizontalStackLayout>

                    <HorizontalStackLayout Spacing="8">
                        <Label Text="ðŸ“…" TextColor="#C48E6B" FontSize="12" Style="{StaticResource BodyText}"/>
                        <Label x:Name="LblDataHorario" Text="..." FontSize="12" Style="{StaticResource BodyText}"/>
                    </HorizontalStackLayout>

                    <HorizontalStackLayout Spacing="8">
                        <Label Text="ðŸ‘¥" TextColor="#C48E6B" FontSize="12" Style="{StaticResource BodyText}"/>
                        <Label x:Name="LblPessoas" Text="..." FontSize="12" Style="{StaticResource BodyText}"/>
                    </HorizontalStackLayout>

                    <BoxView HeightRequest="1" Color="#F1E5E2" Margin="0,6,0,6"/>

                    <Label Text="Atividades selecionadas:" 
                           FontSize="14" 
                           FontAttributes="Bold"
                           Style="{StaticResource BodyText}"/>

                    <Label x:Name="LblAtividades" 
                           Text="..." 
                           FontSize="12" 
                           LineBreakMode="WordWrap"
                           Style="{StaticResource BodyText}"/>

                    <BoxView HeightRequest="1" Color="#F1E5E2" Margin="0,8,0,6"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Label Text="Total a Pagar:" 
                               FontSize="14" 
                               FontAttributes="Bold"
                               Style="{StaticResource BodyText}"/>

                        <Label x:Name="LblTotal"
                               Grid.Column="1" 
                               Text="R$0,00" 
                               FontSize="14" 
                               FontAttributes="Bold"
                               Style="{StaticResource BodyText}"/>
                    </Grid>
                </VerticalStackLayout>
            </Border>

            <Border BackgroundColor="White"
                    StrokeShape="RoundRectangle 12"
                    Padding="16"
                    WidthRequest="350">

                <VerticalStackLayout Spacing="10">
                    <HorizontalStackLayout Spacing="8">
                        <Label Text="ðŸ’³" TextColor="#C48E6B" FontSize="14"/>
                        <Label Text="Forma de pagamento" 
                               Style="{StaticResource SectionTitle}"/>
                    </HorizontalStackLayout>

                    <Border BackgroundColor="#F9F3EF"
                            StrokeThickness="1"
                            Stroke="#F1E5E2"
                            Padding="12">
                        <HorizontalStackLayout Spacing="8">
                            <Ellipse WidthRequest="10" HeightRequest="10" Fill="#A42D45" VerticalOptions="Center"/>
                            <Label Text="Pix" FontSize="13" Style="{StaticResource BodyText}"/>
                        </HorizontalStackLayout>
                    </Border>
                </VerticalStackLayout>
            </Border>

            <Border BackgroundColor="White"
                    StrokeShape="RoundRectangle 12"
                    Padding="16"
                    WidthRequest="350">
                <VerticalStackLayout Spacing="10">
                    <HorizontalStackLayout Spacing="8">
                        <Label Text="ðŸ“±" TextColor="#C48E6B" FontSize="14"/>
                        <Label Text="Pagamento via Pix" 
                               Style="{StaticResource SectionTitle}"/>
                    </HorizontalStackLayout>

                    <Image Source="qrcode.png"
                           WidthRequest="160"
                           HeightRequest="160"
                           HorizontalOptions="Center"
                           Margin="0,12"/>

                    <HorizontalStackLayout Spacing="6" Margin="0,4,0,0">
                        <Label Text="âœ‰ï¸" TextColor="#C48E6B" FontSize="12" Style="{StaticResource BodyText}"/>
                        <Label Text="Chave Pix (Copie e Cole)" FontSize="12" Style="{StaticResource BodyText}"/>
                    </HorizontalStackLayout>

                    <Grid ColumnSpacing="8" Margin="0,4,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <Border BackgroundColor="#F9F3EF" Padding="10" StrokeThickness="1" Stroke="#F1E5E2">
                            <Label x:Name="LblPixKey" Text="fazenda.villaggio@pix.com.br" FontSize="11" Style="{StaticResource BodyText}"/>
                        </Border>

                        <Button Grid.Column="1"
                                Text="Copiar"
                                FontSize="12"
                                BackgroundColor="#A42D45"
                                TextColor="White"
                                CornerRadius="8"
                                Padding="14,6"
                                HeightRequest="40"
                                Clicked="OnCopyPixKeyClicked"
                                Style="{StaticResource BodyButton}"/>
                    </Grid>
                </VerticalStackLayout>
            </Border>

            <Border BackgroundColor="White"
                    StrokeShape="RoundRectangle 12"
                    Padding="16"
                    WidthRequest="350">
                <VerticalStackLayout Spacing="8">
                    <HorizontalStackLayout Spacing="8">
                        <Label Text="ðŸ“Ž" TextColor="#C48E6B" FontSize="14"/>
                        <Label Text="Anexar comprovante" 
                               Style="{StaticResource SectionTitle}"/>
                    </HorizontalStackLayout>

                    <Border StrokeDashArray="2,2"
                            Stroke="#E3D7D0"
                            StrokeThickness="2"
                            BackgroundColor="#F9F3EF"
                            Padding="30"
                            Margin="0,8,0,0">
                        <VerticalStackLayout Spacing="4" HorizontalOptions="Center">
                            <Label Text="â˜ï¸" TextColor="#C48E6B" FontSize="24" HorizontalOptions="Center"/>
                            <Label Text="Clique ou arraste o comprovante aqui" 
                                   FontSize="12" 
                                   HorizontalOptions="Center"
                                   Style="{StaticResource BodyText}"/>
                            <Button Text="Selecionar arquivo"
                                    FontSize="12"
                                    BackgroundColor="#A42D45"
                                    TextColor="White"
                                    CornerRadius="8"
                                    Padding="10,4"
                                    Clicked="OnUploadProofClicked"
                                    Style="{StaticResource BodyButton}"/>
                            <Image x:Name="ImgComprovantePreview"
                                   IsVisible="False"
                                   HeightRequest="100"
                                   Aspect="AspectFit"
                                   Margin="0,10,0,0"/>
                        </VerticalStackLayout>
                    </Border>
                </VerticalStackLayout>
            </Border>

            <Border BackgroundColor="#A42D45"
                    StrokeShape="RoundRectangle 10"
                    Padding="0"
                    WidthRequest="350"
                    HeightRequest="48"
                    HorizontalOptions="Center">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnConfirmPaymentClicked"/>
                </Border.GestureRecognizers>

                <HorizontalStackLayout Spacing="10" VerticalOptions="Center" HorizontalOptions="Center" Padding="16,0">
                    <Label Text="âœ”" FontSize="16" TextColor="White" VerticalOptions="Center" Style="{StaticResource MainButtonText}" FontAttributes="None"/>
                    <Label Text="Confirmar Pagamento" VerticalOptions="Center" HorizontalOptions="CenterAndExpand" Style="{StaticResource MainButtonText}"/>
                </HorizontalStackLayout>
            </Border>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>